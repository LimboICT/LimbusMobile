<form id="checkout-form">
  <h2>Shipping Information</h2>
  <input type="text" placeholder="Full Name" required>
  <input type="text" placeholder="Address" required>
  <input type="text" placeholder="City" required>
  
  <h2>Payment Method</h2>
  <select id="payment-method">
    <option value="cod">Cash on Delivery</option>
    <option value="card">Credit Card</option>
  </select>
  
  <button type="submit">Place Order</button>
</form>

<script type="module">
  import { auth, db } from '../js/firebase.js';
  import { cart } from '../js/cart.js';
  
  document.getElementById('checkout-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const user = auth.currentUser;
    
    const order = {
      userId: user.uid,
      items: cart,
      total: calculateTotal(),
      status: 'processing',
      createdAt: firebase.firestore.FieldValue.serverTimestamp()
    };
    
    await db.collection('orders').add(order);
    localStorage.removeItem('cart');
    window.location.href = 'orders.html';
  });
</script>
